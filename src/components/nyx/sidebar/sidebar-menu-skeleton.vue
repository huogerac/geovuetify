<script setup lang="ts">
  import type { HTMLAttributes } from "vue"
  import { computed } from "vue"

  const props = defineProps<{
    showIcon?: boolean
    class?: HTMLAttributes["class"]
  }>()

  const width = computed(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`
  })
</script>

<template>
  <div
    data-sidebar="menu-skeleton"
    :class="cn('flex h-8 items-center gap-2 rounded-md px-2', props.class)">
    <NyxSkeleton v-if="showIcon" class="size-4 rounded-md" data-sidebar="menu-skeleton-icon" />

    <NyxSkeleton
      class="h-4 max-w-[--skeleton-width] flex-1"
      data-sidebar="menu-skeleton-text"
      :style="{ '--skeleton-width': width }" />
  </div>
</template>
